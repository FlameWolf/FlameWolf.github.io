"use strict";

const similarVariants = [
	["à´¨àµâ€à´±", "àµ»àµà´±"],
	["à´®àµâ€", "àµ”"],
	["à´¯àµâ€", "àµ•"],
	["à´´àµâ€", "àµ–"],
	["à´£àµâ€", "àµº"],
	["à´¨àµâ€", "àµ»"],
	["à´°àµâ€", "àµ¼"],
	["à´²àµâ€", "àµ½"],
	["à´³àµâ€", "àµ¾"],
	["à´•àµâ€", "àµ¿"]
];
const baseTransforms = [
	["à´…", "ð‘€…"],
	["à´†", "ð‘€†"],
	["à´‡", "ð‘€‡"],
	["à´ˆ", "ð‘€ˆ"],
	["à´‰", "ð‘€‰"],
	["à´Š", "ð‘€Š"],
	["à´‹", "ð‘€‹"],
	["àµ ", "ð‘€Œ"],
	["à´Œ", "ð‘€"],
	["àµ¡", "ð‘€Ž"],
	["à´Ž", "ð‘±"],
	["à´", "ð‘€"],
	["à´", "ð‘€"],
	["à´’", "ð‘²"],
	["à´“", "ð‘€‘"],
	["à´”", "ð‘€’"],
	["à´¾", "ð‘€¸"],
	["à´¿", "ð‘€º"],
	["àµ€", "ð‘€»"],
	["àµ", "ð‘€¼"],
	["àµ‚", "ð‘€½"],
	["àµƒ", "ð‘€¾"],
	["àµ„", "ð‘€¿"],
	["àµ¢", "ð‘€"],
	["àµ£", "ð‘"],
	["àµ†", "ð‘³"],
	["àµ‡", "ð‘‚"],
	["àµˆ", "ð‘ƒ"],
	["àµŠ", "ð‘´"],
	["àµ‹", "ð‘„"],
	["àµŒ", "ð‘…"],
	["à´‚", "ð‘€"],
	["à´ƒ", "ð‘€‚"],
	["àµ", "ð‘†"],
	["à´•", "ð‘€“"],
	["à´–", "ð‘€”"],
	["à´—", "ð‘€•"],
	["à´˜", "ð‘€–"],
	["à´™", "ð‘€—"],
	["à´š", "ð‘€˜"],
	["à´›", "ð‘€™"],
	["à´œ", "ð‘€š"],
	["à´", "ð‘€›"],
	["à´ž", "ð‘€œ"],
	["à´Ÿ", "ð‘€"],
	["à´ ", "ð‘€ž"],
	["à´¡", "ð‘€Ÿ"],
	["à´¢", "ð‘€ "],
	["à´£", "ð‘€¡"],
	["à´¤", "ð‘€¢"],
	["à´¥", "ð‘€£"],
	["à´¦", "ð‘€¤"],
	["à´§", "ð‘€¥"],
	["à´¨", "ð‘€¦"],
	["à´ª", "ð‘€§"],
	["à´«", "ð‘€¨"],
	["à´¬", "ð‘€©"],
	["à´­", "ð‘€ª"],
	["à´®", "ð‘€«"],
	["à´¯", "ð‘€¬"],
	["à´°", "ð‘€­"],
	["à´²", "ð‘€®"],
	["à´µ", "ð‘€¯"],
	["à´¶", "ð‘€°"],
	["à´·", "ð‘€±"],
	["à´¸", "ð‘€²"],
	["à´¹", "ð‘€³"],
	["à´³", "ð‘€´"],
	["à´´", "ð‘€µ"],
	["à´±", "ð‘€¶"],
	["à´©", "ð‘€·"],
	["àµ¦", "ð‘¦"],
	["àµ§", "ð‘§"],
	["àµ¨", "ð‘¨"],
	["àµ©", "ð‘©"],
	["àµª", "ð‘ª"],
	["àµ«", "ð‘«"],
	["àµ¬", "ð‘¬"],
	["àµ­", "ð‘­"],
	["àµ®", "ð‘®"],
	["àµ¯", "ð‘¯"],
	["à´º", "ð‘ŒŸ"],
	["àµ”", "ð‘€«ð‘°"],
	["àµ•", "ð‘€¬ð‘°"],
	["àµ–", "ð‘€µð‘°"],
	["àµº", "ð‘€¡ð‘°"],
	["àµ»", "ð‘€·ð‘°"],
	["àµ¼", "ð‘€­ð‘°"],
	["àµ½", "ð‘€®ð‘°"],
	["àµ¾", "ð‘€´ð‘°"],
	["àµ¿", "ð‘€“ð‘°"]
];
const oneWayTransforms = [
	["àµŸ", "ð‘€ˆ"],
	["àµ—", "ð‘…"],
	["àµŽ", "ð‘€­ð‘°"]
];
const transformMap = (() => {
	const reverseTransforms = baseTransforms.map(([x, y]) => [y, x]);
	return new Map([...baseTransforms, ...reverseTransforms, ...oneWayTransforms]);
})();
const tokenisationPattern = (() => {
	const mappedConjuncts = Array.from(transformMap.keys())
		.filter(x => Array.from(x).length > 1)
		.sort((x, y) => y.length - x.length);
	return new RegExp(`${mappedConjuncts.join("|")}|\\S`, "gu");
})();
const transformText = input => {
	for (const [conjunct, atomic] of similarVariants) {
		input = input.replaceAll(conjunct, atomic);
	}
	return input.replace(tokenisationPattern, token => transformMap.get(token) ?? token);
};